<!DOCTYPE html>
<html lang="en">
<head>

  <title>Sourcefier</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="author" content="Antti Veikkolainen" />
  
  <!-- STYLES -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <link rel="stylesheet" href="./style.css"/>

  <script src="https://kit.fontawesome.com/5e30152356.js" crossorigin="anonymous"></script>

</head>
<body>

  <div id="overlay" class="overlay" style="width: 100vw; height: 100vh; position: absolute; display: flex;
  justify-content: center; align-items: center; background-color: rgba(128, 128, 128, 0.45); display: none;">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <div style="padding: 2em;">

    <header style="display: grid; grid-template-columns: 1fr auto;">

      <div class="welcome" style="text-align: center;">
        <h1>Welcome to Sourcefier!</h1>
        <p>Provide a link and a reference date to create a source</p>
      </div>

      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
          <!-- TODO: Fix icon -->
          <i class="fa-sharp fa-regular fa-globe"></i>
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#" aria-current="true">English</a></li>
          <li><a class="dropdown-item" href="#">Finnish</a></li>
        </ul>
      </div>
    </header>

    <form class="reference" style="display: flex;">

      <input type="text" class="form-control link" id="link" placeholder="https://fi.wikipedia.org/wiki/World_Wide_Web" autocomplete="off" required="required"/>
      <button type="button" onclick="/*CreateSource();*/Load();" class="btn btn-primary" style="width: 200px; margin-left: 20px;">Create source</button>

    </form>

    <div id="error" style="display: none;">
      <h2>Unable to find the required information from the source link.</h2>
      <p>Please fill in the required fields below.</p>
    </div>

    <!-- TODO: Center Checkbox with label text -->
    <div id="manual-mode-container" class="form-check" data-visible="true">
      <input type="checkbox" class="form-check-input" id="manual-mode" onchange="UseManualMode(this);">
      <label class="form-check-label" for="manual-mode">Input values manually</label>
    </div>

    <form id="manual-input-container" style="display: none;">

      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">Title Name:</label>
        <div class="col-sm-10">
          <input type="text" class="form-control" placeholder="Title" name="workName" id="title">
        </div>
      </div>
    
      <div class="row g-3">
        <label class="col-sm-2 col-form-label">Author:</label>

        <div class="col-auto">
          <input type="text" placeholder="Lastname" name="lastName" id="lastName">
        </div>

        <div class="col-auto">
          <input type="text" placeholder="Firstname" name="firstName" id="firstName">
        </div>

      </div>

      <div class="mb-3 row">
        <label class="col-sm-2 col-form-label">Release Date Known:</label>
        <div class="col-sm-10">
          <input type="checkbox" id="useDate" checked="true" onchange="DisableDate()">
        </div>
      </div>

      <div>
        <label>Referal Time format</label>
        <select id="referralDateFormat">
          <option>DDMMYYYY</option>
          <option>YYYYMMDD</option>
          <option>DDYYYYMM</option>
          <option>MMYYYYDD</option>
          <option>MMDDYYYY</option>
        </select>
      </div>

      <div class="col-auto">
        <label class="form-label">Release Date:</label>

        <!-- TODO: Change to type to text if date not known -->
        <input type="date" placeholder="Date" name="date" id="date">
      </div>

      <div class="col-auto">
        <label class="form-label">Referral Date:</label>
        <input type="date" placeholder="Referral Date" name="referred" id="referred">
      </div>

    </form>

    <div class="result">

      <div class="mb-3">
        <!-- TODO: Grow textarea with contents -->
        <label for="textarea" class="form-label">Your source text:</label>
        <textarea class="form-control output" id="textarea" rows="3" 
                  placeholder="HirsjÃ¤rvi, S., Remes, P. & Sajavaara, P. 2016. Tutki ja kirjoita. 21. p. Helsinki: Tammi."></textarea>
      </div>

      <button onclick="Copy()" class="btn btn-primary"><i class="fa-regular fa-clipboard"></i> Copy to clipboard</button>
    </div>

  </div>

  <script src="souceGenerator.js"></script>
  <script src="input.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    
  <script src="https://kit.fontawesome.com/5e30152356.js" crossorigin="anonymous"></script>
  </body>
</html>
